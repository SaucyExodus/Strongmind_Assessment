<% content_for :title, "Pizzas" %>

<h1>Pizza List</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Toppings</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @pizzas.each do |pizza| %>
      <tr>
        <td><%= pizza.name %></td>
        <td><%= pizza.toppings.map(&:name).join(", ") %></td>
        <td>
          <%= link_to "Show", pizza, class: "btn btn-primary btn-sm" %>
          <%= link_to "Edit", edit_pizza_path(pizza), class: "btn btn-warning btn-sm" %>
          <%= button_to "Delete", pizza, 
            method: :delete, 
            data: { turbo_confirm: "Are you sure you want to delete this pizza? \n\n#{pizza.name}" }, 
            class: "btn btn-danger btn-sm", 
            form: { style: "display: inline;" } 
          %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to "New Pizza", new_pizza_path, class: "btn btn-success" %>
